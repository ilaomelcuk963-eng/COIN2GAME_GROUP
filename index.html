<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin2Game - Купить Robux</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4A6FA5;
            --primary-dark: #3A5985;
            --accent: #6B8E23;
            --accent-dark: #5A7A1A;
            --dark: #121212;
            --dark-surface: #1e1e1e;
            --dark-card: #252525;
            --text: #e0e0e0;
            --text-secondary: #aaaaaa;
            --alert: #ff4444;
            --paypal: #0070ba;
            --paypal-dark: #005ea6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--dark-surface);
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            font-size: 32px;
        }

        /* Horizontal Navigation */
        .horizontal-nav {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            -ms-overflow-style: none;
            scrollbar-width: none;
            margin-top: 20px;
            background-color: var(--dark-surface);
            border-radius: 8px;
        }

        .horizontal-nav::-webkit-scrollbar {
            display: none;
        }

        .nav-container {
            display: inline-flex;
            padding: 0 20px;
        }

        .nav-item {
            display: inline-block;
            margin: 0 15px;
            position: relative;
        }

        .nav-link {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            border-radius: 20px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        .nav-link i {
            margin-right: 8px;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary);
            background-color: rgba(74, 111, 165, 0.1);
        }

        .menu-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--alert);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main Content Styles */
        main {
            padding: 40px 0;
            min-height: calc(100vh - 180px);
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Home Page */
        .hero {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(135deg, var(--dark-surface) 0%, var(--dark-card) 100%);
            border-radius: 12px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(74, 111, 165, 0.1) 0%, transparent 70%);
            animation: pulse 8s infinite linear;
        }

        @keyframes pulse {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--primary);
            position: relative;
        }

        .hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--text-secondary);
        }

        .offer-section {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 30px;
            margin: 40px auto;
            max-width: 500px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .offer-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .offer-price {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent);
            margin: 15px 0;
        }

        .offer-robux {
            font-size: 24px;
            color: var(--text);
            margin-bottom: 20px;
        }

        .robux-slider-container {
            margin: 30px 0;
            padding: 0 10px;
        }

        .robux-slider {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: var(--dark-surface);
            outline: none;
            -webkit-appearance: none;
        }

        .robux-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .robux-slider::-webkit-slider-thumb:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .slider-values {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .promo-code-section {
            margin: 20px 0;
        }

        .promo-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: var(--dark-surface);
            color: var(--text);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .apply-promo {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            width: 100%;
        }

        .buy-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 18px;
            width: 100%;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .buy-btn:hover {
            background-color: var(--accent-dark);
        }

        .offer-note {
            color: var(--text-secondary);
            font-size: 14px;
            margin-top: 10px;
        }

        /* Promotions Section */
        .promotions-section {
            margin-top: 60px;
        }

        .promotions-section h2 {
            font-size: 28px;
            margin-bottom: 30px;
            text-align: center;
            color: var(--primary);
        }

        .promotions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .promotion-card {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
            position: relative;
        }

        .promotion-card:hover {
            transform: translateY(-5px);
        }

        .promotion-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: var(--alert);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .promotion-robux {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }

        .promotion-price {
            font-size: 20px;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .promotion-quantity {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        /* Reviews Section */
        .reviews-section {
            margin-top: 60px;
        }

        .reviews-section h2 {
            font-size: 28px;
            margin-bottom: 30px;
            text-align: center;
            color: var(--primary);
        }

        .add-review {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
        }

        .add-review h3 {
            margin-bottom: 20px;
            color: var(--accent);
        }

        .review-form .form-group {
            margin-bottom: 20px;
        }

        .review-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .review-form input, .review-form textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: var(--dark-surface);
            color: var(--text);
            font-size: 16px;
        }

        .review-form textarea {
            min-height: 100px;
            resize: vertical;
        }

        .star-rating {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .star {
            font-size: 24px;
            color: #555;
            cursor: pointer;
            transition: color 0.2s;
        }

        .star.active, .star:hover {
            color: #ffc107;
        }

        .submit-review {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }

        .submit-review:hover {
            background-color: var(--primary-dark);
        }

        .reviews-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .review-card {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .reviewer {
            font-weight: 600;
            color: var(--primary);
        }

        .stars {
            color: #ffc107;
        }

        .review-text {
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .delete-review {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 14px;
        }

        .delete-review:hover {
            color: var(--alert);
        }

        .average-rating {
            text-align: center;
            margin-top: 30px;
            font-size: 18px;
        }

        .rating-value {
            font-weight: 700;
            color: var(--accent);
            font-size: 24px;
        }

        /* Admin Panel */
        .admin-panel {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .admin-section {
            margin-bottom: 30px;
        }

        .admin-section h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background-color: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent);
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .admin-table th, .admin-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        .admin-table th {
            background-color: var(--dark-surface);
            color: var(--primary);
            font-weight: 600;
        }

        .admin-table tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .admin-actions {
            display: flex;
            gap: 10px;
        }

        .admin-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
        }

        .btn-danger {
            background-color: var(--alert);
            color: white;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        /* Admin Login */
        .admin-login {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 30px;
            margin: 40px auto;
            max-width: 400px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .admin-login h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        /* Payment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--dark-card);
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--text);
            font-size: 24px;
            cursor: pointer;
        }

        .modal h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: var(--dark-surface);
            color: var(--text);
            font-size: 16px;
        }

        .card-type {
            position: absolute;
            right: 15px;
            top: 40px;
            font-size: 24px;
            color: #555;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .submit-payment {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            width: 100%;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .submit-payment:hover {
            background-color: var(--accent-dark);
        }

        /* Success Message */
        .success-message {
            background-color: #4caf50;
            color: white;
            padding: 15px 20px;
            border-radius: 4px;
            margin-top: 20px;
            display: none;
        }

        .success-message.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Loading Spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer */
        footer {
            background-color: var(--dark-surface);
            padding: 30px 0;
            text-align: center;
            margin-top: 60px;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .footer-links {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .copyright {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Fireworks Animation */
        .fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
            display: none;
        }

        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
        }

        .firework::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: inherit;
            border-radius: 50%;
            animation: firework-explode 1s ease-out forwards;
        }

        @keyframes firework-explode {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty));
                opacity: 0;
            }
        }

        /* Profile Section */
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            overflow: hidden;
        }

        .profile-avatar i {
            font-size: 40px;
            color: var(--text-secondary);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .profile-info h3 {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .profile-info p {
            margin-bottom: 5px;
            color: var(--text-secondary);
        }

        /* Robux Rain Animation */
        .robux-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
            display: none;
        }

        .robux-drop {
            position: absolute;
            color: #4A6FA5;
            font-weight: bold;
            font-size: 24px;
            animation: fall linear forwards;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }

        /* Support Section */
        .support-section {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .support-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .support-section p {
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .support-contacts {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .support-contact {
            background-color: var(--dark-surface);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .support-contact i {
            font-size: 32px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .support-contact h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .support-contact a {
            color: var(--accent);
            text-decoration: none;
        }

        .support-contact a:hover {
            text-decoration: underline;
        }

        /* Profile History */
        .profile-history {
            margin-top: 30px;
        }

        .profile-history h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .history-table th, .history-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        .history-table th {
            background-color: var(--dark-surface);
            color: var(--primary);
            font-weight: 600;
        }

        .history-table tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        /* Login Section */
        .login-section {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 30px;
            margin: 40px auto;
            max-width: 500px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .login-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .login-section p {
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .search-results {
            margin-top: 20px;
            text-align: left;
        }

        .search-result {
            background-color: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .search-result:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .search-result h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        /* Ranks Section */
        .ranks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .rank-card {
            background-color: var(--dark-surface);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .rank-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .rank-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .rank-requirements {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .rank-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: var(--accent);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        /* Payment Method Selection */
        .payment-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .payment-method {
            flex: 1;
            background-color: var(--dark-surface);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method.active {
            border-color: var(--primary);
            background-color: rgba(74, 111, 165, 0.1);
        }

        .payment-method i {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .payment-method.credit-card i {
            color: var(--primary);
        }

        .payment-method.paypal i {
            color: var(--paypal);
        }

        /* PayPal Button */
        .paypal-btn {
            background-color: var(--paypal);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            width: 100%;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .paypal-btn:hover {
            background-color: var(--paypal-dark);
        }

        /* Additional Animations */
        .fade-in {
            animation: fadeIn 0.8s ease;
        }

        .slide-in-left {
            animation: slideInLeft 0.8s ease;
        }

        .slide-in-right {
            animation: slideInRight 0.8s ease;
        }

        .bounce-in {
            animation: bounceIn 0.8s ease;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .horizontal-nav {
                margin-top: 10px;
            }

            .nav-container {
                padding: 0 10px;
            }

            .nav-item {
                margin: 0 10px;
            }

            .nav-link {
                padding: 8px 15px;
                font-size: 14px;
            }

            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .promotions-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .support-contacts {
                grid-template-columns: 1fr;
            }

            .ranks-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .payment-methods {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 40px 20px;
            }

            .hero h1 {
                font-size: 28px;
            }

            .offer-section {
                padding: 20px;
            }

            .nav-link {
                padding: 6px 12px;
                font-size: 12px;
            }

            .admin-stats {
                grid-template-columns: 1fr;
            }

            .promotions-grid {
                grid-template-columns: 1fr;
            }

            .ranks-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" data-page="home">
                    <i class="fas fa-coins"></i>
                    coin2_game
                </a>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- Горизонтальный навигатор -->
            <div class="horizontal-nav">
                <div class="nav-container">
                    <div class="nav-item">
                        <a href="#" class="nav-link active" data-page="home">
                            <i class="fas fa-home"></i>
                            Главная
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-page="profile">
                            <i class="fas fa-user"></i>
                            Профиль
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-page="support">
                            <i class="fas fa-headset"></i>
                            Поддержка
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-page="promotions">
                            <i class="fas fa-tag"></i>
                            Акции
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-page="reviews">
                            <i class="fas fa-star"></i>
                            Отзывы
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-page="admin-login">
                            <i class="fas fa-cog"></i>
                            Админ
                        </a>
                    </div>
                </div>
            </div>

            <!-- Главная страница -->
            <section id="home" class="page active">
                <div class="hero">
                    <h1>Купить Робуксы</h1>
                    <p>Пополни баланс Roblox быстро и просто, без входа в аккаунт.<br>Удобная оплата и доступные методы доставки.</p>
                </div>

                <div class="offer-section">
                    <h2>Лучший курс робуксов</h2>
                    <div class="offer-price" id="offer-price">159 ₽</div>
                    <div class="offer-robux" id="offer-robux">= 400 R$</div>

                    <div class="robux-slider-container">
                        <input type="range" min="100" max="5000" value="400" class="robux-slider" id="robux-slider">
                        <div class="slider-values">
                            <span>100 R$</span>
                            <span>5000 R$</span>
                        </div>
                    </div>

                    <div class="promo-code-section">
                        <input type="text" class="promo-input" id="promo-code" placeholder="Введите промокод">
                        <button class="apply-promo" id="apply-promo">Применить промокод</button>
                    </div>

                    <p>Вы заплатите:</p>
                    <button class="buy-btn" id="open-offer-payment">Купить робуксы</button>
                    <p class="offer-note">Robux будут доставлены в течение 3 дней без комиссии!</p>
                </div>
            </section>

            <!-- Профиль -->
            <section id="profile" class="page">
                <div class="offer-section">
                    <h2>Ваш профиль</h2>
                    <div class="profile-avatar">
                        <i class="fas fa-user" id="default-avatar"></i>
                        <img id="profile-avatar-img" style="display: none;" alt="Аватар">
                    </div>
                    <div class="profile-info">
                        <h3 id="profile-username">Войдите в аккаунт Roblox</h3>
                        <p id="profile-userid">ID: -</p>
                        <p id="profile-created">Дата регистрации: -</p>
                        <p>Баланс: 0 R$</p>
                    </div>
                    <button class="buy-btn" id="connect-roblox">Подключить Roblox</button>
                </div>

                <div class="profile-history">
                    <h3>История покупок</h3>
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>Дата</th>
                                <th>Тип</th>
                                <th>Сумма</th>
                                <th>Статус</th>
                            </tr>
                        </thead>
                        <tbody id="purchase-history">
                            <!-- История покупок будет загружаться здесь -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Поддержка -->
            <section id="support" class="page">
                <div class="support-section">
                    <h2>Контакты и техподдержка</h2>
                    <p>Поделитесь своей поддержкой, беспокойством, комментарием или технической проблемой ниже, и мы ответим в течение 24 часов.</p>
                    
                    <div class="support-contacts">
                        <div class="support-contact">
                            <i class="fab fa-vk"></i>
                            <h3>Вконтакте</h3>
                            <a href="https://vk.com/kupit_robux_koroblox" target="_blank">https://vk.com/kupit_robux_koroblox</a>
                        </div>
                        <div class="support-contact">
                            <i class="fab fa-telegram"></i>
                            <h3>Telegram</h3>
                            <a href="https://t.me/koroblox_store" target="_blank">https://t.me/koroblox_store</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Акции -->
            <section id="promotions" class="page">
                <div class="promotions-section">
                    <h2>Специальные акции</h2>
                    <p style="text-align: center; margin-bottom: 30px; color: var(--text-secondary);">Ограниченные предложения на покупку Robux</p>
                    
                    <div class="promotions-grid" id="promotions-grid">
                        <!-- Акции будут загружаться здесь -->
                    </div>
                </div>
            </section>

            <!-- Отзывы -->
            <section id="reviews" class="page">
                <div class="reviews-section">
                    <h2>Отзывы наших клиентов</h2>

                    <div class="add-review">
                        <h3>Добавить отзыв</h3>
                        <form class="review-form" id="review-form">
                            <div class="form-group">
                                <label for="reviewer-name">Ваше имя</label>
                                <input type="text" id="reviewer-name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Оценка</label>
                                <div class="star-rating">
                                    <span class="star" data-rating="1">★</span>
                                    <span class="star" data-rating="2">★</span>
                                    <span class="star" data-rating="3">★</span>
                                    <span class="star" data-rating="4">★</span>
                                    <span class="star" data-rating="5">★</span>
                                </div>
                                <input type="hidden" id="rating-value" value="0">
                            </div>
                            <div class="form-group">
                                <label for="review-text">Текст отзыва</label>
                                <textarea id="review-text" class="form-control" required></textarea>
                            </div>
                            <button type="submit" class="submit-review">Добавить отзыв</button>
                        </form>
                    </div>

                    <div class="reviews-container" id="reviews-container">
                        <!-- Отзывы будут загружаться здесь -->
                    </div>
                    <div class="average-rating">
                        Средняя оценка: <span class="rating-value" id="average-rating">4.8</span>/5
                    </div>
                </div>
            </section>

            <!-- Админ панель -->
            <section id="admin-login" class="page">
                <div class="admin-login">
                    <h2>Вход в админ-панель</h2>
                    <div class="form-group">
                        <input type="password" id="admin-password" class="form-control" placeholder="Введите пароль">
                    </div>
                    <button class="buy-btn" id="admin-login-btn">Войти</button>
                </div>
            </section>

            <!-- Админ панель (после входа) -->
            <section id="admin-panel" class="page">
                <div class="admin-panel">
                    <h2>Админ-панель</h2>
                    
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-value" id="total-visitors">0</div>
                            <div class="stat-label">Посетителей</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-orders">0</div>
                            <div class="stat-label">Заказов</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-reviews">0</div>
                            <div class="stat-label">Отзывов</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-promotions">0</div>
                            <div class="stat-label">Акций</div>
                        </div>
                    </div>

                    <div class="admin-section">
                        <h3>Последние посетители</h3>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Время</th>
                                    <th>IP</th>
                                    <th>Действие</th>
                                </tr>
                            </thead>
                            <tbody id="visitors-table">
                                <!-- Данные о посетителях -->
                            </tbody>
                        </table>
                    </div>

                    <div class="admin-section">
                        <h3>Заказы</h3>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Сумма</th>
                                    <th>Robux</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table">
                                <!-- Данные о заказах -->
                            </tbody>
                        </table>
                    </div>

                    <div class="admin-section">
                        <h3>Управление отзывами</h3>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Имя</th>
                                    <th>Оценка</th>
                                    <th>Текст</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="reviews-table">
                                <!-- Данные об отзывах -->
                            </tbody>
                        </table>
                    </div>

                    <div class="admin-section">
                        <h3>Управление акциями</h3>
                        <div class="form-group">
                            <input type="number" id="promo-robux" class="form-control" placeholder="Количество Robux">
                        </div>
                        <div class="form-group">
                            <input type="number" id="promo-price" class="form-control" placeholder="Цена в рублях">
                        </div>
                        <div class="form-group">
                            <input type="number" id="promo-quantity" class="form-control" placeholder="Количество">
                        </div>
                        <button class="admin-btn btn-primary" id="add-promotion">Добавить акцию</button>
                        
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Robux</th>
                                    <th>Цена</th>
                                    <th>Количество</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="promotions-table">
                                <!-- Данные об акциях -->
                            </tbody>
                        </table>
                    </div>

                    <div class="admin-section">
                        <h3>Управление рангами</h3>
                        <div class="form-group">
                            <input type="text" id="rank-name" class="form-control" placeholder="Название ранга">
                        </div>
                        <div class="form-group">
                            <input type="number" id="rank-requirement" class="form-control" placeholder="Требуемая сумма покупок">
                        </div>
                        <div class="form-group">
                            <input type="number" id="rank-discount" class="form-control" placeholder="Скидка в %">
                        </div>
                        <button class="admin-btn btn-primary" id="add-rank">Добавить ранг</button>
                        
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Ранг</th>
                                    <th>Требование</th>
                                    <th>Скидка</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="ranks-table">
                                <!-- Данные о рангах -->
                            </tbody>
                        </table>
                    </div>

                    <div class="admin-section">
                        <h3>Синхронизация с Яндекс.Диском</h3>
                        <div class="admin-actions">
                            <button class="admin-btn btn-primary" id="sync-yandex">Синхронизировать с Яндекс.Диском</button>
                            <button class="admin-btn btn-primary" id="export-yandex">Экспорт в Яндекс.Диск</button>
                        </div>
                        <div id="yandex-status" style="margin-top: 10px; color: var(--text-secondary);"></div>
                    </div>
                </div>
            </section>

            <!-- Вход в аккаунт Roblox -->
            <section id="roblox-login" class="page">
                <div class="login-section">
                    <h2>Войти в аккаунт</h2>
                    <p>Введите свой никнейм Roblox</p>
                    
                    <div class="form-group">
                        <input type="text" id="roblox-username" class="form-control" placeholder="Никнейм">
                    </div>
                    <button class="buy-btn" id="search-roblox">Найти</button>
                    
                    <div class="search-results" id="search-results">
                        <!-- Результаты поиска будут загружаться здесь -->
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Модальное окно оплаты -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Оплата Robux</h2>
            
            <div class="payment-methods">
                <div class="payment-method credit-card active" data-method="card">
                    <i class="far fa-credit-card"></i>
                    <p>Банковская карта</p>
                </div>
                <div class="payment-method paypal" data-method="paypal">
                    <i class="fab fa-paypal"></i>
                    <p>PayPal</p>
                </div>
            </div>
            
            <form id="payment-form">
                <div id="card-payment">
                    <div class="form-group">
                        <label for="card-number">Номер карты</label>
                        <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" required>
                        <div class="card-type" id="card-type">
                            <i class="far fa-credit-card"></i>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expiry-date">Срок действия</label>
                            <input type="text" id="expiry-date" class="form-control" placeholder="ММ/ГГ" required>
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" class="form-control" placeholder="123" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="card-holder">Имя владельца карты</label>
                        <input type="text" id="card-holder" class="form-control" placeholder="IVAN IVANOV" required>
                    </div>
                </div>
                
                <div id="paypal-payment" style="display: none;">
                    <div class="form-group">
                        <label for="paypal-email">Email PayPal</label>
                        <input type="email" id="paypal-email" class="form-control" placeholder="example@mail.com">
                    </div>
                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">После нажатия кнопки "Оплатить через PayPal" вы будете перенаправлены на страницу PayPal для завершения платежа.</p>
                </div>
                
                <div class="form-group">
                    <label for="robux-amount">Количество Robux</label>
                    <input type="number" id="robux-amount" class="form-control" placeholder="400" min="100" required readonly>
                    <small>Минимальная покупка: 100 Robux</small>
                </div>
                
                <div class="form-group">
                    <label for="total-cost">Итоговая стоимость</label>
                    <input type="text" id="total-cost" class="form-control" value="159 RUB" readonly>
                </div>
                
                <button type="submit" class="submit-payment" id="card-payment-btn">Оплатить</button>
                <button type="button" class="paypal-btn" id="paypal-payment-btn" style="display: none;">Оплатить через PayPal</button>
            </form>
            
            <div class="success-message" id="success-message">
                Спасибо за покупку! Ваши Robux будут доставлены в течение 3 дней.
            </div>
        </div>
    </div>

    <!-- Анимация фейерверка -->
    <div class="fireworks-container" id="fireworks-container"></div>

    <!-- Анимация дождя из Robux -->
    <div class="robux-rain" id="robux-rain"></div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">coin2_game</div>
                <div class="footer-links">
                    <a href="#" data-page="home">Главная</a>
                    <a href="#" data-page="profile">Профиль</a>
                    <a href="#" data-page="support">Поддержка</a>
                </div>
                <div class="copyright">
                    &copy; 2023 coin2_game. Все права защищены.
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Инициализация данных
        let siteData = JSON.parse(localStorage.getItem('coin2game-data')) || {
            visitors: [],
            orders: [],
            reviews: [
                { id: 1, name: "Алексей", rating: 5, text: "Отличный сервис! Robux пришли быстро, без проблем." },
                { id: 2, name: "Мария", rating: 4, text: "Хорошие цены, но пришлось немного подождать доставки." },
                { id: 3, name: "Дмитрий", rating: 5, text: "Пользуюсь регулярно, всегда всё четко и быстро!" },
                { id: 4, name: "Светлана", rating: 5, text: "Лучший курс на рынке, рекомендую всем!" },
                { id: 5, name: "Иван", rating: 4, text: "Удобный сайт, приятный дизайн, всё понятно." },
                { id: 6, name: "Ольга", rating: 5, text: "Впервые покупала Robux, всё прошло без проблем." }
            ],
            promotions: [],
            ranks: [
                { id: 1, name: "Новичок", requirement: 0, discount: 0 },
                { id: 2, name: "Активный", requirement: 1000, discount: 5 },
                { id: 3, name: "Постоянный", requirement: 5000, discount: 10 },
                { id: 4, name: "VIP", requirement: 10000, discount: 15 },
                { id: 5, name: "Легенда", requirement: 25000, discount: 20 }
            ],
            robloxUsers: [],
            currentUser: null,
            nextReviewId: 7,
            nextOrderId: 1,
            nextPromotionId: 1,
            nextRankId: 6
        };

        // Сохранение данных
        function saveData() {
            localStorage.setItem('coin2game-data', JSON.stringify(siteData));
        }

        // Отслеживание посещений
        function trackVisit(action, details = '') {
            const visit = {
                timestamp: new Date().toLocaleString(),
                action: action,
                details: details,
                userAgent: navigator.userAgent
            };
            
            siteData.visitors.push(visit);
            saveData();
            
            // Обновление статистики в админ-панели
            if (document.getElementById('admin-panel').classList.contains('active')) {
                updateAdminStats();
            }
        }

        // Навигация по страницам
        document.querySelectorAll('.nav-link, .logo, .footer-links a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('data-page');
                
                // Убираем активный класс у всех ссылок
                document.querySelectorAll('.nav-link').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Добавляем активный класс к текущей ссылке
                if (this.classList.contains('nav-link')) {
                    this.classList.add('active');
                }
                
                // Скрываем все страницы
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Показываем выбранную страницу
                document.getElementById(pageId).classList.add('active');
                
                // Отслеживаем переход по страницам
                trackVisit('page_visit', pageId);
                
                // Обновляем данные на странице
                if (pageId === 'admin-panel') {
                    updateAdminStats();
                } else if (pageId === 'reviews') {
                    renderReviews();
                } else if (pageId === 'promotions') {
                    renderPromotions();
                } else if (pageId === 'profile') {
                    renderPurchaseHistory();
                }
            });
        });

        // Слайдер для выбора количества Robux
        const robuxSlider = document.getElementById('robux-slider');
        const offerPrice = document.getElementById('offer-price');
        const offerRobux = document.getElementById('offer-robux');
        let discount = 0;
        let promoApplied = false;

        // Расчет скидки по дню недели
        function calculateDailyDiscount() {
            const now = new Date();
            const day = now.getDay(); // 0 - воскресенье, 1 - понедельник и т.д.
            const month = now.getMonth();
            const date = now.getDate();
            
            // 31 декабря
            if (month === 11 && date === 31) {
                return 50;
            }
            
            // Скидки по дням недели
            switch(day) {
                case 0: return 35; // воскресенье
                case 1: return 5;  // понедельник
                case 2: return 10; // вторник
                case 3: return 15; // среда
                case 4: return 20; // четверг
                case 5: return 25; // пятница
                case 6: return 30; // суббота
                default: return 0;
            }
        }

        robuxSlider.addEventListener('input', function() {
            updatePrice();
        });

        function updatePrice() {
            const robuxAmount = parseInt(robuxSlider.value);
            let cost = Math.ceil(robuxAmount / 3);
            
            // Применяем скидку по дню недели
            discount = calculateDailyDiscount();
            if (discount > 0) {
                cost = Math.ceil(cost * (1 - discount/100));
            }
            
            // Применяем промокод если активен
            if (promoApplied) {
                cost = Math.ceil(cost * 0.5); // 50% скидка
            }
            
            offerPrice.textContent = `${cost} ₽`;
            if (discount > 0 || promoApplied) {
                offerPrice.innerHTML += ` <span class="discount-badge">-${discount}%${promoApplied ? ' + промокод' : ''}</span>`;
            }
            offerRobux.textContent = `= ${robuxAmount} R$`;
        }

        // Промокоды
        const promoCodeInput = document.getElementById('promo-code');
        const applyPromoBtn = document.getElementById('apply-promo');

        applyPromoBtn.addEventListener('click', function() {
            const promoCode = promoCodeInput.value.trim();
            
            if (promoCode === 'coin2_game') {
                promoApplied = true;
                updatePrice();
                alert('Промокод успешно применен! Скидка 50%');
                trackVisit('promo_applied', promoCode);
            } else if (promoCode) {
                alert('Неверный промокод');
            }
        });

        // Модальное окно оплаты
        const openOfferPaymentBtn = document.getElementById('open-offer-payment');
        const paymentModal = document.getElementById('payment-modal');
        const closeModalBtn = document.querySelector('.close-modal');
        const paymentForm = document.getElementById('payment-form');
        const successMessage = document.getElementById('success-message');
        const robuxAmountInput = document.getElementById('robux-amount');
        const totalCostInput = document.getElementById('total-cost');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const cardPayment = document.getElementById('card-payment');
        const paypalPayment = document.getElementById('paypal-payment');
        const cardPaymentBtn = document.getElementById('card-payment-btn');
        const paypalPaymentBtn = document.getElementById('paypal-payment-btn');
        
        // Выбор способа оплаты
        paymentMethods.forEach(method => {
            method.addEventListener('click', function() {
                paymentMethods.forEach(m => m.classList.remove('active'));
                this.classList.add('active');
                
                const paymentType = this.getAttribute('data-method');
                
                if (paymentType === 'card') {
                    cardPayment.style.display = 'block';
                    paypalPayment.style.display = 'none';
                    cardPaymentBtn.style.display = 'block';
                    paypalPaymentBtn.style.display = 'none';
                } else if (paymentType === 'paypal') {
                    cardPayment.style.display = 'none';
                    paypalPayment.style.display = 'block';
                    cardPaymentBtn.style.display = 'none';
                    paypalPaymentBtn.style.display = 'block';
                }
            });
        });
        
        openOfferPaymentBtn.addEventListener('click', () => {
            const robuxAmount = parseInt(robuxSlider.value);
            let cost = Math.ceil(robuxAmount / 3);
            
            // Применяем скидки
            if (discount > 0) {
                cost = Math.ceil(cost * (1 - discount/100));
            }
            if (promoApplied) {
                cost = Math.ceil(cost * 0.5);
            }
            
            robuxAmountInput.value = robuxAmount;
            totalCostInput.value = `${cost} RUB`;
            paymentModal.classList.add('active');
        });
        
        closeModalBtn.addEventListener('click', () => {
            paymentModal.classList.remove('active');
        });
        
        // Закрытие модального окна при клике вне его
        window.addEventListener('click', (e) => {
            if (e.target === paymentModal) {
                paymentModal.classList.remove('active');
            }
        });
        
        // Определение типа карты
        const cardNumberInput = document.getElementById('card-number');
        const cardTypeElement = document.getElementById('card-type');
        
        cardNumberInput.addEventListener('input', () => {
            const cardNumber = cardNumberInput.value.replace(/\s/g, '');
            let cardType = 'unknown';
            
            // Определяем тип карты по первым цифрам
            if (/^4/.test(cardNumber)) {
                cardType = 'visa';
            } else if (/^5[1-5]/.test(cardNumber)) {
                cardType = 'mastercard';
            } else if (/^3[47]/.test(cardNumber)) {
                cardType = 'amex';
            } else if (/^6(?:011|5)/.test(cardNumber)) {
                cardType = 'discover';
            } else if (/^2/.test(cardNumber)) {
                cardType = 'mir';
            }
            
            // Обновляем иконку карты
            switch(cardType) {
                case 'visa':
                    cardTypeElement.innerHTML = '<i class="fab fa-cc-visa"></i>';
                    break;
                case 'mastercard':
                    cardTypeElement.innerHTML = '<i class="fab fa-cc-mastercard"></i>';
                    break;
                case 'amex':
                    cardTypeElement.innerHTML = '<i class="fab fa-cc-amex"></i>';
                    break;
                case 'discover':
                    cardTypeElement.innerHTML = '<i class="fab fa-cc-discover"></i>';
                    break;
                case 'mir':
                    cardTypeElement.innerHTML = '<i class="fab fa-cc-mir"></i>';
                    break;
                default:
                    cardTypeElement.innerHTML = '<i class="far fa-credit-card"></i>';
            }
        });
        
        // Форматирование номера карты
       cardNumberInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            let matches = value.match(/\d{4,16}/g);
            let match = matches && matches[0] || '';
            let parts = [];
            
            for (let i = 0; i < match.length; i += 4) {
                parts.push(match.substring(i, i + 4));
            }
            
            if (parts.length) {
                e.target.value = parts.join(' ');
            } else {
                e.target.value = value;
            }
        });
        
        // Форматирование срока действия карты
        const expiryDateInput = document.getElementById('expiry-date');
        expiryDateInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            
            e.target.value = value;
        });
        
        // Ограничение CVV
        const cvvInput = document.getElementById('cvv');
        cvvInput.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '').substring(0, 3);
        });
        
        // Анимация фейерверка (100 фейерверков)
        function createFireworks(robuxCount) {
            const container = document.getElementById('fireworks-container');
            container.style.display = 'block';
            
            // Всегда создаем 100 фейерверков
            const fireworkCount = 100;
            
            for (let i = 0; i < fireworkCount; i++) {
                setTimeout(() => {
                    createFirework(container);
                }, i * 50); // Более быстрая генерация для 100 фейерверков
            }
            
            // Скрываем контейнер после завершения анимации
            setTimeout(() => {
                container.style.display = 'none';
                container.innerHTML = '';
            }, 5000);
        }
        
        function createFirework(container) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            
            // Случайная позиция на экране
            const posX = Math.random() * window.innerWidth;
            const posY = Math.random() * window.innerHeight;
            
            // Случайный цвет из палитры Roblox
            const colors = ['#ff5c5c', '#5cff5c', '#5c5cff', '#ffff5c', '#ff5cff', '#5cffff'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            firework.style.left = `${posX}px`;
            firework.style.top = `${posY}px`;
            firework.style.backgroundColor = color;
            
            // Случайные направления для частиц
            const tx = (Math.random() - 0.5) * 200;
            const ty = (Math.random() - 0.5) * 200;
            
            firework.style.setProperty('--tx', `${tx}px`);
            firework.style.setProperty('--ty', `${ty}px`);
            
            container.appendChild(firework);
            
            // Удаляем элемент после завершения анимации
            setTimeout(() => {
                if (firework.parentNode) {
                    firework.parentNode.removeChild(firework);
                }
            }, 1000);
        }
        
        // Анимация дождя из Robux (много Robux)
        function createRobuxRain(robuxCount) {
            const container = document.getElementById('robux-rain');
            container.style.display = 'block';
            
            // Всегда создаем много падающих Robux (150)
            const robuxDropCount = 150;
            
            for (let i = 0; i < robuxDropCount; i++) {
                setTimeout(() => {
                    createRobuxDrop(container);
                }, i * 30); // Более быстрая генерация для большого количества
            }
            
            // Скрываем контейнер после завершения анимации
            setTimeout(() => {
                container.style.display = 'none';
                container.innerHTML = '';
            }, 5000);
        }
        
        function createRobuxDrop(container) {
            const robux = document.createElement('div');
            robux.className = 'robux-drop';
            robux.textContent = 'R$';
            
            // Случайная позиция сверху
            const posX = Math.random() * window.innerWidth;
            
            // Случайная скорость падения
            const duration = Math.random() * 3 + 2;
            
            robux.style.left = `${posX}px`;
            robux.style.animationDuration = `${duration}s`;
            
            // Случайный размер
            const size = Math.random() * 10 + 15;
            robux.style.fontSize = `${size}px`;
            
            container.appendChild(robux);
            
            // Удаляем элемент после завершения анимации
            setTimeout(() => {
                if (robux.parentNode) {
                    robux.parentNode.removeChild(robux);
                }
            }, duration * 1000);
        }
        
        // Обработка формы оплаты картой
        paymentForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Создаем заказ
            const order = {
                id: siteData.nextOrderId++,
                robux: parseInt(robuxAmountInput.value),
                cost: totalCostInput.value,
                timestamp: new Date().toLocaleString(),
                status: 'Обрабатывается',
                paymentMethod: 'Карта'
            };
            
            siteData.orders.push(order);
            saveData();
            
            // Запускаем анимации (100 фейерверков и много Robux)
            createFireworks(order.robux);
            createRobuxRain(order.robux);
            
            // Показываем сообщение об успехе
            successMessage.classList.add('active');
            
            // Скрываем форму
            paymentForm.style.display = 'none';
            
            // Отслеживаем покупку
            trackVisit('purchase', `${order.robux} R$ за ${order.cost}`);
            
            // Обновляем историю покупок
            renderPurchaseHistory();
            
            // Через 5 секунд закрываем модальное окно
            setTimeout(() => {
                paymentModal.classList.remove('active');
                successMessage.classList.remove('active');
                paymentForm.style.display = 'block';
                paymentForm.reset();
                totalCostInput.value = '159 RUB';
                cardTypeElement.innerHTML = '<i class="far fa-credit-card"></i>';
                promoApplied = false;
                discount = 0;
                updatePrice();
            }, 5000);
        });

        // Обработка оплаты через PayPal
        paypalPaymentBtn.addEventListener('click', () => {
            const paypalEmail = document.getElementById('paypal-email').value;
            const robuxAmount = parseInt(robuxAmountInput.value);
            let cost = Math.ceil(robuxAmount / 3);
            
            // Применяем скидки
            if (discount > 0) {
                cost = Math.ceil(cost * (1 - discount/100));
            }
            if (promoApplied) {
                cost = Math.ceil(cost * 0.5);
            }
            
            if (!paypalEmail) {
                alert('Пожалуйста, введите email PayPal');
                return;
            }
            
            // Создаем заказ
            const order = {
                id: siteData.nextOrderId++,
                robux: robuxAmount,
                cost: `${cost} RUB`,
                timestamp: new Date().toLocaleString(),
                status: 'Ожидает оплаты PayPal',
                paymentMethod: 'PayPal',
                paypalEmail: paypalEmail
            };
            
            siteData.orders.push(order);
            saveData();
            
            // Эмуляция перенаправления на PayPal
            paymentForm.style.display = 'none';
            successMessage.textContent = 'Перенаправляем на PayPal для завершения платежа...';
            successMessage.classList.add('active');
            
            // Отслеживаем покупку через PayPal
            trackVisit('paypal_payment_initiated', `${order.robux} R$ за ${order.cost}`);
            
            // Эмуляция завершения платежа через PayPal
            setTimeout(() => {
                successMessage.textContent = 'Платеж через PayPal успешно завершен! Ваши Robux будут доставлены в течение 3 дней.';
                
                // Обновляем статус заказа
                order.status = 'Обрабатывается';
                saveData();
                
                // Запускаем анимации
                createFireworks(order.robux);
                createRobuxRain(order.robux);
                
                // Обновляем историю покупок
                renderPurchaseHistory();
                
                // Через 5 секунд закрываем модальное окно
                setTimeout(() => {
                    paymentModal.classList.remove('active');
                    successMessage.classList.remove('active');
                    paymentForm.style.display = 'block';
                    paymentForm.reset();
                    totalCostInput.value = '159 RUB';
                    promoApplied = false;
                    discount = 0;
                    updatePrice();
                }, 5000);
            }, 3000);
        });

        // Подключение аккаунта Roblox
        const connectRobloxBtn = document.getElementById('connect-roblox');
        const profileUsername = document.getElementById('profile-username');
        const profileUserid = document.getElementById('profile-userid');
        const profileCreated = document.getElementById('profile-created');
        const defaultAvatar = document.getElementById('default-avatar');
        const profileAvatarImg = document.getElementById('profile-avatar-img');
        
        connectRobloxBtn.addEventListener('click', function() {
            // Переходим на страницу входа
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById('roblox-login').classList.add('active');
            
            // Обновляем навигацию
            document.querySelectorAll('.nav-link').forEach(item => {
                item.classList.remove('active');
            });
        });

        // Поиск пользователя Roblox
        const searchRobloxBtn = document.getElementById('search-roblox');
        const robloxUsernameInput = document.getElementById('roblox-username');
        const searchResults = document.getElementById('search-results');
        
        searchRobloxBtn.addEventListener('click', async function() {
            const username = robloxUsernameInput.value.trim();
            if (!username) return;
            
            // Показываем индикатор загрузки
            searchRobloxBtn.innerHTML = '<div class="loading"></div>';
            searchRobloxBtn.disabled = true;
            
            try {
                // Получаем информацию о пользователе по имени
                const userResponse = await fetch(`https://users.roblox.com/v1/users/search?keyword=${username}`);
                const userData = await userResponse.json();
                
                searchResults.innerHTML = '';
                
                if (userData.data && userData.data.length > 0) {
                    userData.data.slice(0, 5).forEach(user => {
                        const result = document.createElement('div');
                        result.className = 'search-result';
                        result.innerHTML = `
                            <h4>${user.name}</h4>
                            <p>ID: ${user.id}</p>
                        `;
                        
                        result.addEventListener('click', async () => {
                            // Получаем детальную информацию о пользователе по ID
                            const userDetailResponse = await fetch(`https://users.roblox.com/v1/users/${user.id}`);
                            const userDetailData = await userDetailResponse.json();
                            
                            // Получаем аватар пользователя
                            const avatarResponse = await fetch(`https://thumbnails.roblox.com/v1/users/avatar?userIds=${user.id}&size=420x420&format=Png`);
                            const avatarData = await avatarResponse.json();
                            
                            // Обновляем профиль
                            profileUsername.textContent = userDetailData.name || userDetailData.displayName;
                            profileUserid.textContent = `ID: ${user.id}`;
                            
                            // Форматируем дату регистрации
                            if (userDetailData.created) {
                                const createdDate = new Date(userDetailData.created);
                                profileCreated.textContent = `Дата регистрации: ${createdDate.toLocaleDateString('ru-RU')}`;
                            }
                            
                            if (avatarData.data && avatarData.data.length > 0) {
                                profileAvatarImg.src = avatarData.data[0].imageUrl;
                                profileAvatarImg.style.display = 'block';
                                defaultAvatar.style.display = 'none';
                            }
                            
                            // Сохраняем данные в localStorage
                            localStorage.setItem('coin2game-roblox-user', JSON.stringify({
                                username: userDetailData.name || userDetailData.displayName,
                                id: user.id,
                                avatarUrl: avatarData.data && avatarData.data.length > 0 ? avatarData.data[0].imageUrl : null,
                                created: userDetailData.created
                            }));
                            
                            // Возвращаемся на страницу профиля
                            document.querySelectorAll('.page').forEach(page => {
                                page.classList.remove('active');
                            });
                            document.getElementById('profile').classList.add('active');
                            
                            // Обновляем навигацию
                            document.querySelectorAll('.nav-link').forEach(item => {
                                item.classList.remove('active');
                            });
                            document.querySelector('a[data-page="profile"]').classList.add('active');
                            
                            alert('Аккаунт Roblox успешно подключен!');
                            trackVisit('roblox_connected', userDetailData.name || userDetailData.displayName);
                        });
                        
                        searchResults.appendChild(result);
                    });
                } else {
                    searchResults.innerHTML = '<p>Пользователь не найден</p>';
                }
            } catch (error) {
                console.error('Ошибка при поиске пользователя:', error);
                searchResults.innerHTML = '<p>Произошла ошибка при поиске пользователя</p>';
            } finally {
                // Восстанавливаем кнопку
                searchRobloxBtn.innerHTML = 'Найти';
                searchRobloxBtn.disabled = false;
            }
        });

        // Система отзывов
        const reviewForm = document.getElementById('review-form');
        const reviewsContainer = document.getElementById('reviews-container');
        const averageRatingElement = document.getElementById('average-rating');
        const stars = document.querySelectorAll('.star');
        const ratingValue = document.getElementById('rating-value');
        
        // Рейтинг звездами
        stars.forEach(star => {
            star.addEventListener('click', function() {
                const rating = parseInt(this.getAttribute('data-rating'));
                ratingValue.value = rating;
                
                stars.forEach(s => {
                    if (parseInt(s.getAttribute('data-rating')) <= rating) {
                        s.classList.add('active');
                    } else {
                        s.classList.remove('active');
                    }
                });
            });
        });
        
        // Обработка формы отзыва
        reviewForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const name = document.getElementById('reviewer-name').value;
            const rating = parseInt(ratingValue.value);
            const text = document.getElementById('review-text').value;
            
            if (rating === 0) {
                alert('Пожалуйста, поставьте оценку');
                return;
            }
            
            // Добавляем новый отзыв
            const review = {
                id: siteData.nextReviewId++,
                name: name,
                rating: rating,
                text: text
            };
            
            siteData.reviews.push(review);
            saveData();
            
            // Перерисовываем отзывы
            renderReviews();
            
            // Сбрасываем форму
            reviewForm.reset();
            stars.forEach(star => star.classList.remove('active'));
            ratingValue.value = 0;
            
            // Отслеживаем добавление отзыва
            trackVisit('review_added', `${rating} звезд`);
        });
        
        // Функция отрисовки отзывов
        function renderReviews() {
            reviewsContainer.innerHTML = '';
            
            if (siteData.reviews.length === 0) {
                reviewsContainer.innerHTML = '<p>Пока нет отзывов. Будьте первым!</p>';
                return;
            }
            
            siteData.reviews.forEach(review => {
                const reviewCard = document.createElement('div');
                reviewCard.className = 'review-card';
                
                let starsHtml = '';
                for (let i = 0; i < 5; i++) {
                    starsHtml += `<i class="fas fa-star${i < review.rating ? '' : '-half-alt'}"></i>`;
                }
                
                reviewCard.innerHTML = `
                    <div class="review-header">
                        <div class="reviewer">${review.name}</div>
                        <div class="stars">${starsHtml}</div>
                    </div>
                    <div class="review-text">${review.text}</div>
                    <button class="delete-review" data-id="${review.id}" style="display: none;">Удалить</button>
                `;
                
                reviewsContainer.appendChild(reviewCard);
            });
            
            // Обновляем средний рейтинг
            updateAverageRating();
        }
        
        // Функция обновления среднего рейтинга
        function updateAverageRating() {
            if (siteData.reviews.length === 0) {
                averageRatingElement.textContent = '0';
                return;
            }
            
            const total = siteData.reviews.reduce((sum, review) => sum + review.rating, 0);
            const average = (total / siteData.reviews.length).toFixed(1);
            averageRatingElement.textContent = average;
        }

        // Отрисовка истории покупок
        function renderPurchaseHistory() {
            const purchaseHistory = document.getElementById('purchase-history');
            purchaseHistory.innerHTML = '';
            
            if (siteData.orders.length === 0) {
                purchaseHistory.innerHTML = '<tr><td colspan="4" style="text-align: center;">Пока нет покупок</td></tr>';
                return;
            }
            
            siteData.orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.timestamp}</td>
                    <td>Покупка Robux</td>
                    <td>${order.cost}</td>
                    <td>${order.status}</td>
                `;
                purchaseHistory.appendChild(row);
            });
        }

        // Отрисовка акций
        function renderPromotions() {
            const promotionsGrid = document.getElementById('promotions-grid');
            promotionsGrid.innerHTML = '';
            
            if (siteData.promotions.length === 0) {
                promotionsGrid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-secondary);">Акций пока нет</p>';
                return;
            }
            
            siteData.promotions.forEach(promo => {
                const promoCard = document.createElement('div');
                promoCard.className = 'promotion-card';
                
                promoCard.innerHTML = `
                    <div class="promotion-badge">АКЦИЯ</div>
                    <div class="promotion-robux">${promo.robux} R$</div>
                    <div class="promotion-price">${promo.price} ₽</div>
                    <div class="promotion-quantity">Осталось: ${promo.quantity}</div>
                    <button class="buy-btn" data-id="${promo.id}">Купить</button>
                `;
                
                promotionsGrid.appendChild(promoCard);
            });
        }

        // Покупка акции
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('buy-btn') && e.target.hasAttribute('data-id')) {
                const promoId = parseInt(e.target.getAttribute('data-id'));
                const promotion = siteData.promotions.find(p => p.id === promoId);
                
                if (promotion && promotion.quantity > 0) {
                    // Создаем заказ
                    const order = {
                        id: siteData.nextOrderId++,
                        robux: promotion.robux,
                        cost: `${promotion.price} ₽`,
                        timestamp: new Date().toLocaleString(),
                        status: 'Обрабатывается'
                    };
                    
                    siteData.orders.push(order);
                    
                    // Уменьшаем количество
                    promotion.quantity--;
                    
                    saveData();
                    
                    // Запускаем анимации (100 фейерверков и много Robux)
                    createFireworks(promotion.robux);
                    createRobuxRain(promotion.robux);
                    
                    alert(`Вы приобрели акцию: ${promotion.robux} R$ за ${promotion.price} ₽`);
                    trackVisit('promotion_purchase', `${promotion.robux} R$ за ${promotion.price} ₽`);
                    
                    // Обновляем отображение
                    renderPromotions();
                    renderPurchaseHistory();
                } else {
                    alert('Акция закончилась');
                }
            }
        });

        // Админ-панель
        const adminLoginBtn = document.getElementById('admin-login-btn');
        const adminPasswordInput = document.getElementById('admin-password');
        
        adminLoginBtn.addEventListener('click', function() {
            if (adminPasswordInput.value === '1488') {
                document.getElementById('admin-login').classList.remove('active');
                document.getElementById('admin-panel').classList.add('active');
                updateAdminStats();
                trackVisit('admin_login');
            } else {
                alert('Неверный пароль');
            }
        });

        // Обновление статистики в админ-панели
        function updateAdminStats() {
            document.getElementById('total-visitors').textContent = siteData.visitors.length;
            document.getElementById('total-orders').textContent = siteData.orders.length;
            document.getElementById('total-reviews').textContent = siteData.reviews.length;
            document.getElementById('total-promotions').textContent = siteData.promotions.length;
            
            // Обновляем таблицу посетителей
            const visitorsTable = document.getElementById('visitors-table');
            visitorsTable.innerHTML = '';
            
            // Показываем последние 10 посетителей
            const recentVisitors = siteData.visitors.slice(-10).reverse();
            recentVisitors.forEach(visit => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${visit.timestamp}</td>
                    <td>${visit.userAgent.substring(0, 50)}...</td>
                    <td>${visit.action} ${visit.details ? `(${visit.details})` : ''}</td>
                `;
                visitorsTable.appendChild(row);
            });
            
            // Обновляем таблицу заказов
            const ordersTable = document.getElementById('orders-table');
            ordersTable.innerHTML = '';
            
            siteData.orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.cost}</td>
                    <td>${order.robux} R$</td>
                    <td>${order.status}</td>
                    <td>
                        <button class="admin-btn btn-danger" data-id="${order.id}" data-type="order">Удалить</button>
                    </td>
                `;
                ordersTable.appendChild(row);
            });
            
            // Обновляем таблицу отзывов
            const reviewsTable = document.getElementById('reviews-table');
            reviewsTable.innerHTML = '';
            
            siteData.reviews.forEach(review => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${review.name}</td>
                    <td>${review.rating}/5</td>
                    <td>${review.text.substring(0, 50)}...</td>
                    <td>
                        <button class="admin-btn btn-danger" data-id="${review.id}" data-type="review">Удалить</button>
                    </td>
                `;
                reviewsTable.appendChild(row);
            });
            
            // Обновляем таблицу акций
            const promotionsTable = document.getElementById('promotions-table');
            promotionsTable.innerHTML = '';
            
            siteData.promotions.forEach(promo => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${promo.robux} R$</td>
                    <td>${promo.price} ₽</td>
                    <td>${promo.quantity}</td>
                    <td>
                        <button class="admin-btn btn-danger" data-id="${promo.id}" data-type="promotion">Удалить</button>
                    </td>
                `;
                promotionsTable.appendChild(row);
            });
            
            // Обновляем таблицу рангов
            const ranksTable = document.getElementById('ranks-table');
            ranksTable.innerHTML = '';
            
            siteData.ranks.forEach(rank => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${rank.name}</td>
                    <td>${rank.requirement} ₽</td>
                    <td>${rank.discount}%</td>
                    <td>
                        <button class="admin-btn btn-danger" data-id="${rank.id}" data-type="rank">Удалить</button>
                    </td>
                `;
                ranksTable.appendChild(row);
            });
            
            // Показываем кнопки удаления в отзывах
            document.querySelectorAll('.delete-review').forEach(btn => {
                btn.style.display = 'block';
            });
        }

        // Удаление элементов в админ-панели
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn-danger')) {
                const id = parseInt(e.target.getAttribute('data-id'));
                const type = e.target.getAttribute('data-type');
                
                if (type === 'review') {
                    siteData.reviews = siteData.reviews.filter(review => review.id !== id);
                } else if (type === 'order') {
                    siteData.orders = siteData.orders.filter(order => order.id !== id);
                } else if (type === 'promotion') {
                    siteData.promotions = siteData.promotions.filter(promo => promo.id !== id);
                } else if (type === 'rank') {
                    siteData.ranks = siteData.ranks.filter(rank => rank.id !== id);
                }
                
                saveData();
                updateAdminStats();
                renderReviews();
                renderPromotions();
                renderPurchaseHistory();
                
                trackVisit('admin_delete', `${type} #${id}`);
            }
        });

        // Управление акциями
        const addPromotionBtn = document.getElementById('add-promotion');
        const promoRobuxInput = document.getElementById('promo-robux');
        const promoPriceInput = document.getElementById('promo-price');
        const promoQuantityInput = document.getElementById('promo-quantity');
        
        addPromotionBtn.addEventListener('click', function() {
            const robux = parseInt(promoRobuxInput.value);
            const price = parseInt(promoPriceInput.value);
            const quantity = parseInt(promoQuantityInput.value);
            
            if (robux && price && quantity) {
                const promotion = {
                    id: siteData.nextPromotionId++,
                    robux: robux,
                    price: price,
                    quantity: quantity
                };
                
                siteData.promotions.push(promotion);
                saveData();
                
                // Очищаем поля
                promoRobuxInput.value = '';
                promoPriceInput.value = '';
                promoQuantityInput.value = '';
                
                // Обновляем таблицу
                updateAdminStats();
                renderPromotions();
                
                trackVisit('promotion_added', `${robux} R$ за ${price} ₽`);
            } else {
                alert('Заполните все поля');
            }
        });

        // Управление рангами
        const addRankBtn = document.getElementById('add-rank');
        const rankNameInput = document.getElementById('rank-name');
        const rankRequirementInput = document.getElementById('rank-requirement');
        const rankDiscountInput = document.getElementById('rank-discount');
        
        addRankBtn.addEventListener('click', function() {
            const name = rankNameInput.value.trim();
            const requirement = parseInt(rankRequirementInput.value);
            const discount = parseInt(rankDiscountInput.value);
            
            if (name && !isNaN(requirement) && !isNaN(discount)) {
                const rank = {
                    id: siteData.nextRankId++,
                    name: name,
                    requirement: requirement,
                    discount: discount
                };
                
                siteData.ranks.push(rank);
                saveData();
                
                // Очищаем поля
                rankNameInput.value = '';
                rankRequirementInput.value = '';
                rankDiscountInput.value = '';
                
                // Обновляем таблицу
                updateAdminStats();
                
                trackVisit('rank_added', `${name} (${requirement} ₽, ${discount}%)`);
            } else {
                alert('Заполните все поля корректно');
            }
        });

        // Синхронизация с Яндекс.Диском (эмуляция)
        const syncYandexBtn = document.getElementById('sync-yandex');
        const exportYandexBtn = document.getElementById('export-yandex');
        const yandexStatus = document.getElementById('yandex-status');
        
        syncYandexBtn.addEventListener('click', function() {
            yandexStatus.innerHTML = '<div class="loading"></div> Синхронизация с Яндекс.Диском...';
            
            // Эмуляция синхронизации
            setTimeout(() => {
                yandexStatus.textContent = 'Данные успешно синхронизированы с Яндекс.Диском';
                trackVisit('sync_yandex_disk');
            }, 2000);
        });
        
        exportYandexBtn.addEventListener('click', function() {
            yandexStatus.innerHTML = '<div class="loading"></div> Экспорт данных в Яндекс.Диск...';
            
            // Эмуляция экспорта
            setTimeout(() => {
                yandexStatus.textContent = 'Данные успешно экспортированы в Яндекс.Диск';
                trackVisit('export_yandex_disk');
            }, 2000);
        });

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', () => {
            renderReviews();
            renderPromotions();
            renderPurchaseHistory();
            updatePrice();
            trackVisit('page_visit', 'home');
            
            // Проверяем, есть ли подключенный пользователь Roblox
            const savedUser = localStorage.getItem('coin2game-roblox-user');
            if (savedUser) {
                const userData = JSON.parse(savedUser);
                profileUsername.textContent = userData.username;
                profileUserid.textContent = `ID: ${userData.id}`;
                
                if (userData.created) {
                    const createdDate = new Date(userData.created);
                    profileCreated.textContent = `Дата регистрации: ${createdDate.toLocaleDateString('ru-RU')}`;
                }
                
                if (userData.avatarUrl) {
                    profileAvatarImg.src = userData.avatarUrl;
                    profileAvatarImg.style.display = 'block';
                    defaultAvatar.style.display = 'none';
                }
            }
            
            // Проверяем, есть ли активные акции
            const hasActivePromotions = siteData.promotions.some(promo => promo.quantity > 0);
            if (hasActivePromotions) {
                const promotionsLink = document.querySelector('a[data-page="promotions"]');
                const badge = document.createElement('span');
                badge.className = 'menu-badge';
                badge.textContent = '!';
                promotionsLink.appendChild(badge);
            }
        });
    </script>
</body>
</html>
